
### 期末项目——拍照APP 

#### 一.加值宣言 
经调查，目前已有较多用于拍照的APP，例如美图秀秀、美颜相机、B612等。然而用户的需求在不断地变化，要求也日渐增多，用户对于拍照APP的要求不再仅仅只是美颜或者是拍照时加贴图，用户希望拍照念APP能够拥有更多的人性化便捷化的功能。
因此，我构想的拍照APP的创新功能有：
1. 当用户站在教学楼前拍照留念时，可能会突然想起刚入学时拍下的那张照片，并且想要将那张「过去时光的照片」中的自己与现在的自己进行同框对比，但可能由于各种原因无法实现。因此我设想APP内应该有一个功能，利用人像分割功能，然后可以使用户「过去时光的照片」中的自己出现在应用中的取景器中，与眼前的场景重叠，然后合成出一张「今昔对比」的照片。
2. 可以让用户只需上传自己的一张照片，就能轻轻松松试遍所有衣服饰物

#### 二.核心价值 （最小可行性产品）

着眼于用户想将现在的自己与过去的自己进行对比的需求

#### 三.背景
目前，对于拍照APP的这一概念，很多人认为就是为用户提供照片美化的功能软件。因此想要从市场中脱颖而出，就要另辟蹊径，满足用户更加多样化的需求。

#### 四.目的 
1. 让用户轻松实现「今昔对比」
2. 让用户不用亲自去到实体店，也可以知道衣服的上身效果甚至在线上就可以开始自己的时装秀


#### 五.目标 
+ 前期目标
实现「今昔对比」功能：用户将旧照片导入APP内，APP能够智能地将旧照片中的人像抠下来，并且抠下来的人像能够直接出现在应用中的取景器中，与眼前的场景重叠，然后生成一张对比图。

+ 中期目标
实现线上试衣的功能：

+ 后期目标
     1. 建立一个老同学社交圈：可以帮助用户发现他/她的周围分布着哪些老同学以及距离多远，并且还能提供沟通交流的基本服务。
     2. 协助用户组织聚会：根据用户与老同学们的地理定位，为用户推荐最佳的聚会地点，距离两者都不会太远。

#### 六.用户
1. 应届毕业生
2. 非应届毕业生（就已经毕业了一段时间）

#### 七.用户痛点 
+ 场景一：用户想在同一地点，让过去的自己与现在的自己同框对比。
+ 场景二：在路上遇到了一个似曾相识的朋友却突然忘记她/他名字的尴尬情况。
+ 场景三：想联系旧同学，但又没有她/他的联系方式
+ 场景四：想组织同学聚会，但却不知道选择在哪个位置的聚会地点比较合适

#### 八.用户需求:（使用的人工智能要反映到需求列表中） 
|用户案例|对应标题|重要程度|
|:-|:-:|-:|
|用户想实现今昔对比|人像分割|重要|
|用户想知道老同学的信息|人脸搜索|重要|
|用户想了解老同学的地理分布情况|地理围栏|次重要|

#### 九.使用者交互与设计（axure产品原型）

+ 毕业纪念APP首页
![毕业纪念APP首页](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E6%AF%95%E4%B8%9A%E7%BA%AA%E5%BF%B5APP%E9%A6%96%E9%A1%B5.png)

+ 今昔对比功能
![今昔对比功能1](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E4%BA%BA%E5%83%8F%E6%8A%A0%E5%9B%BE1.png)
![今昔对比功能2](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E4%BA%BA%E5%83%8F%E6%8A%A0%E5%9B%BE2.png)

+ 人脸搜索功能
![人脸搜索功能1](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB1.png)
![人脸搜索功能1](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E4%BA%BA%E8%84%B8%E8%AF%86%E5%88%AB2.png)

+ 寻找附近好友功能
![寻找附近好友功能1](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E5%9C%B0%E7%90%86%E5%9B%B4%E6%A0%8F1.png)
![寻找附近好友功能2](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E5%9C%B0%E7%90%86%E5%9B%B4%E6%A0%8F2.png)

+ 我的
![我的1](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E6%88%91%E7%9A%841.png)
![我的2](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E6%88%91%E7%9A%842.png)
![我的3](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E6%88%91%E7%9A%843.png)


#### 十.产品结构图
+ 产品功能结构图
![产品功能结构图](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E6%AF%95%E4%B8%9A%E7%BA%AA%E5%BF%B5APP%E4%BA%A7%E5%93%81%E5%8A%9F%E8%83%BD%E7%BB%93%E6%9E%84%E5%9B%BE.jpg)

+ 产品信息结构图
![产品信息结构图](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E6%AF%95%E4%B8%9A%E7%BA%AA%E5%BF%B5APP%E4%BA%A7%E5%93%81%E4%BF%A1%E6%81%AF%E7%BB%93%E6%9E%84%E5%9B%BE.jpg)

+ 产品流程图

![产品流程图](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E6%AF%95%E4%B8%9A%E7%BA%AA%E5%BF%B5%E4%BA%A7%E5%93%81%E6%B5%81%E7%A8%8B%E5%9B%BE.jpg)

+ 产品结构图

![产品结构图](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E6%AF%95%E4%B8%9A%E7%BA%AA%E5%BF%B5APP%E4%BA%A7%E5%93%81%E7%BB%93%E6%9E%84%E5%9B%BE.jpg)

#### 十一.API 的运用 
1. 百度API——人脸搜索
+ HTTP方法：POST
+ 请求URL： https://aip.baidubce.com/rest/2.0/face/v3/search
+ API价值主张
①支持百万级规模的人脸库管理和搜索，检索速度业内领先
②提供可视化人脸库管理功能，支持人脸组、用户、人脸维度的增、删、改、查操作
③提供在线的人脸搜索接口、人脸库管理组合接口，可以快速集成，达到百万人脸库毫秒级检索速度，实现黑白名单自定义匹配等功能
④提供一体机和软件部署包两种私有化方案，支持百万级人脸库精准查找，毫秒级搜索结果响应，适用于安防、监控等场景

+ 免费配额
![免费配额](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E7%99%BE%E5%BA%A6API%E4%BA%BA%E8%84%B8%E6%90%9C%E7%B4%A2.png)

+ 请求代码示例

```
# encoding:utf-8

import requests

'''
人脸搜索
'''

request_url = "https://aip.baidubce.com/rest/2.0/face/v3/search"

params = "{\"image\":\"027d8308a2ec665acb1bdf63e513bcb9\",\"image_type\":\"FACE_TOKEN\",\"group_id_list\":\"group_repeat,group_233\",\"quality_control\":\"LOW\",\"liveness_control\":\"NORMAL\"}"
access_token = '[调用鉴权接口获取的token]'
request_url = request_url + "?access_token=" + access_token
headers = {'content-type': 'application/json'}
response = requests.post(request_url, data=params, headers=headers)
if response:
    print (response.json())
```

+ 返回结果

![返回结果](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E8%BF%94%E5%9B%9E%E7%BB%93%E6%9E%9C.png)

+ 返回示例
```
  {
    "face_token": "fid",
    "user_list": [  
       {
          "group_id" : "test1",
          "user_id": "u333333",
          "user_info": "Test User",
          "score": 99.3  
      }
    ]
  }
``` 
2. 百度API——人像分割
+ HTTP 方法：POST
+ 请求URL： https://aip.baidubce.com/rest/2.0/image-classify/v1/body_seg
+ API价值主张
①将原始图片中的人像分离出来，选择新的背景图像进行替换、合成
②人像分割算法业界领先
③支持返回分割后的二值图、灰度图、人像前景图，并可通过参数设置，自主设置返回哪些结果图，避免造成带宽浪费
④对于输入的一张图片（可正常解码，且长宽比适宜），识别人体的轮廓范围，与背景进行分离，适用于拍照背景替换、照片合成、身体特效等场景。输入正常人像图片，返回分割后的二值结果图、灰度图、透明背景的人像图（png格式）。

+ 免费配额

![免费配额](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E7%99%BE%E5%BA%A6API%E4%BA%BA%E5%83%8F%E5%88%86%E5%89%B2.png)

+ 请求代码示例
``` 
# encoding:utf-8

import requests
import base64

'''
人像分割
'''

request_url = "https://aip.baidubce.com/rest/2.0/image-classify/v1/body_seg"
# 二进制方式打开图片文件
f = open('[本地文件]', 'rb')
img = base64.b64encode(f.read())

params = {"image":img}
access_token = '[调用鉴权接口获取的token]'
request_url = request_url + "?access_token=" + access_token
headers = {'content-type': 'application/x-www-form-urlencoded'}
response = requests.post(request_url, data=params, headers=headers)
if response:
    print (response.json())
``` 
+ 返回示例
```
{
	"log_id": 716033439,
	"labelmap": "xxxx",
	"scoremap": "xxxx",
	"foreground": "xxxx"
}

```


3. 高德API——地理围栏
+ API价值定位
开发者根据业务需求合理的在地图上圈定指定区域，创建围栏，定位 SDK 提供根据高德POI，行政区划，自定义圆形，多边形四种方式创建地理围栏，开发者可根据围栏圈定的范围进行精准操作。
[高德API地理围栏](https://lbs.amap.com/api/webservice/guide/api/geofence_service)

+ API的配额

![免费配额](https://raw.githubusercontent.com/DLIERBA/API_ML_AI/master/images/%E9%85%8D%E9%A2%9D.png)

#### 十二.AI产品概率性 
+ 百度人脸搜索：万级别人脸库首选识别率高达99%以上
+ 百度人像分割：人像分割算法业界领先，评测IoU 90%以上


#### 十三.API功能对比
1. 百度地图API和高德地图API
+ 如果不考虑POI数据的话，从对开发者友好角度，从容易上手角度：高德完胜百度。高德的API十分简单易上手，高德一行代码，百度最少要五行。
+ 百度地图各个子产品各自为战，相当混乱，配置麻烦，问题较多，总而言之就是技术混乱。不过百度有着丰富的数据资源。
+ 百度的坐标不可逆，用了百度不容易改别的，而高德则可以。
+ 高德拥有测绘权，地理坐标信息比百度精准
+ 从中英双语支持上，高德比较友好

2. 人脸识别API
+ 国际人脸识别评估集LFW榜， face++ 99.5% 商汤 99.53% 腾讯 99.65% 百度 99.77%，非思丸 99.77% 中科云从 99.5% 道奇智能99.64%，FaceTo 99.4% 宇泛智能 99%这些都是基于国内的
+ 百度人脸识别API，功能强大，简单易用；至少有很多人工智能的大师是在百度工作过，也是国内最早进军人工的企业之一，虽然后来大师都从百度出走，但是人家积累的根基还是很厚的。
+ face++号称是一个提供免费人脸检测、人脸识别、人脸属性分析等服务的云端服务平台，但是它所谓的免费其实就是注册和试用。但价格上应该还是可以接受的
+ 非思丸这家公司提供免费SDK，免费API，免费APK，而且不需要提供太多资料
+ 虹软技术号称提供免费的sdk，到底是怎么收费不清楚，当时对于这种不是很知名，试用就要提供一大堆个人信息还是不要用为妙。

[参考文章](https://zhuanlan.zhihu.com/p/92732557)



#### 十四.API使用风险评估
在云环境下，API提供了对应功能的访问权限，这增加了云平台的攻击面，攻击者可能存在滥用或找流行API代码中的漏洞，实现攻击云用户与云服务，因此，云安全联盟也表示不安全的API是云计算面临的最大威胁之一

+ 应对措施
1. 通过API网关进行监视
2. 安全思维贯彻开发过程始终
3. 应用行业安全最佳实践和标准

+ 参考文章：
[API安全风险](https://www.fisec.cn/854.html)
[API成为企业黑客攻击目标，你的API还安全吗？](https://baijiahao.baidu.com/s?id=1607045952862598854&wfr=spider&for=pc)

#### 产品的可行性
1. 该产品是一个APP
+ App可以实现完整功能，灵活性强
+ APP能够在交互、视觉等用户体验上满足用户的高要求
+ App的界面内容更丰富，运转速度快，系统更加流畅

2. 该产品需求明确，而且需求针对的特定的群体普遍偏年轻，其优势就是年轻群体对新鲜事物的接受度较高且具有较强的传播能力

3. 该产品有核心功能和辅助功能，功能多样而且新颖

4. 该产品能有效解决用户日常生活中较为常见的尴尬情况，

#### 交互需求 
1. 当涉及到下载或其他很耗费流量的操作时，会进行2G/3G网络还是wifi网络的判断，当判断出是非wifi时，会进行提醒。其他需要向后台请求数据时，只进行简单的网络状况是否良好的判断，当网络状况不良时进行提示。
2. 当用户上传的图片不符合要求时，会提醒用户重新上传

#### 异常流
1. 如果识别图像不成功，给出具体字段的错误提示信息，让用户重新调整好光亮度和角度重新拍摄；
2. 如果拍照识别的图像不正确，提示用户可以手动选择和更改。

#### 非功能性需求
+ 性能：估计用户数为1万人，每天登录用户数为3000左右，网络的带宽为100M带宽。在非高峰时间根据编号和名称特定条件进行搜索，可以在3秒内得到搜索结果。当通过互联网接入系统的时候，期望在编号和名称搜索时最长查询时间<15秒。
+ 可靠性：要求系统7x24小时运行，全年持续运行故障停运时间累计不能超过10小时。
+ 可维护性：故障的可排查能力，系统的修正，升级，备份，恢复机制。
+ 安全：当用户的账号在常用设备以外的设备登录了，要及时发消息通知用户；当用户出现登录异常的情况时，要开启动态口令验证（例如短信发生动态码）等。
+ 易用性： 功能操作简单，界面清晰简洁，某些较复杂的操作需要给用户提供操作指引。
+ 数据一致性：当发生用户个人资料变更时，保证其他地方的信息要被同步修改。
#### 结果预期
+ 上线初期，先在一个小区域内（例如某个地区的高校）进行推广，然后收集这一部分使用者的体验评价，根据情况进行完善
+ 当APP功能基本完善，用户评价普遍向好时，面向整个市场推出使用，不过刚开始需要使用一些奖励措施，吸引更多的用户使用APP
+ 到APP被广泛应用，拥有较为稳定的用户群体时，可减少甚至取消先前为了吸引新用户所采取的奖励，并且可以考虑增加其他功能，利用持续创新的手段吸引新用户以及留住旧用户
+ 发展到一定阶段后，APP可能会接手广告业务获利；或者在APP内开设购物功能，贩卖毕业用品之类的；也有可能选择增设会员服务，以吸引用户在APP内消费，最终实现APP盈利
#### 附录
[毕业纪念APP原型完整版](http://nfunm080.gitee.io/graduation-memorial)
